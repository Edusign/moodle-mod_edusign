{"version":3,"file":"health.min.js","sources":["../../../src/pages/settings/health.js"],"sourcesContent":["/* eslint-disable promise/always-return */\n/* eslint-disable no-alert */\n\n/**\n * Allows status form elements to be modified.\n *\n * @module    mod_edusign\n * @author    SÃ©bastien Lampazona\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * Ex: https://moodledev.io/docs/guides/javascript/ajax\n */\n\n\nimport Ajax from 'core/ajax';\nimport * as Str from 'core/str';\n\nconst testApi = () => Ajax.call([{\n    methodname: 'mod_edusign_test_api',\n    args: {}\n}])[0];\n\n\n\nexport const init = async () => {\n    document.querySelector('#test-api-connection').addEventListener('click', () => {\n        testApi()\n            .then(async (data) => {\n                if (data?.error || !data?.result) {\n                    throw new Error(await Str.get_string('test_api_error', 'mod_edusign', data.error || 'API connection failed'));\n                }\n                alert(await Str.get_string('test_api_success', 'mod_edusign'));\n                return data;\n            })\n            .catch((response) => {\n                alert(response?.message || response.error);\n            });\n    });\n};\n"],"names":["async","document","querySelector","addEventListener","Ajax","call","methodname","args","then","data","error","result","Error","Str","get_string","alert","catch","response","message"],"mappings":";;;;;;;;6jCAuBoBA,UAChBC,SAASC,cAAc,wBAAwBC,iBAAiB,SAAS,KARvDC,cAAKC,KAAK,CAAC,CAC7BC,WAAY,uBACZC,KAAM,MACN,GAOSC,MAAKR,MAAAA,UACES,MAAAA,MAAAA,KAAMC,OAAUD,MAAAA,OAAAA,KAAME,aAChB,IAAIC,YAAYC,IAAIC,WAAW,iBAAkB,cAAeL,KAAKC,OAAS,iCAExFK,YAAYF,IAAIC,WAAW,mBAAoB,gBACxCL,QAEVO,OAAOC,WACJF,OAAME,MAAAA,gBAAAA,SAAUC,UAAWD,SAASP"}